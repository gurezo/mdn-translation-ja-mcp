const translationRules = {
  // 翻訳しない用語
  reservedTerms: [
    'JavaScript',
    'HTML',
    'CSS',
    'DOM',
    'API',
    'HTTP',
    'HTTPS',
    'URL',
    'URI',
    'JSON',
    'XML',
    'SVG',
    'WebGL',
    'WebRTC',
    'WebSocket',
    'WebAssembly',
    'Node.js',
    'React',
    'Vue',
    'Angular',
    'TypeScript',
    'Python',
    'Java',
    'Git',
    'GitHub',
    'npm',
    'yarn',
    'Docker',
    'Kubernetes',
    'AWS',
    'Azure',
    'Firebase',
    'MongoDB',
    'PostgreSQL',
    'MySQL',
    'Redis',
    'GraphQL',
    'REST',
    'SOAP',
    'OAuth',
    'JWT',
    'SSL',
    'TLS',
    'CDN',
    'CI/CD',
    'IDE',
    'CLI',
    'GUI',
    'UX',
    'UI',
    'SEO',
    'CMS',
    'PWA',
  ],

  // 用語の対応表
  termMapping: {
    // 基本概念
    web: 'ウェブ',
    browser: 'ブラウザー',
    server: 'サーバー',
    client: 'クライアント',
    application: 'アプリケーション',
    program: 'プログラム',
    code: 'コード',
    function: '関数',
    variable: '変数',
    constant: '定数',
    class: 'クラス',
    object: 'オブジェクト',
    method: 'メソッド',
    property: 'プロパティ',
    parameter: '引数',
    argument: '引数',
    return: '戻り値',
    value: '値',
    type: '型',
    string: '文字列',
    number: '数値',
    boolean: '真偽値',
    array: '配列',
    object: 'オブジェクト',
    null: 'null',
    undefined: 'undefined',

    // 制御構造
    if: 'if',
    else: 'else',
    switch: 'switch',
    case: 'case',
    default: 'default',
    for: 'for',
    while: 'while',
    do: 'do',
    break: 'break',
    continue: 'continue',
    return: 'return',
    throw: 'throw',
    try: 'try',
    catch: 'catch',
    finally: 'finally',

    // エラー関連
    error: 'エラー',
    exception: '例外',
    warning: '警告',
    debug: 'デバッグ',
    log: 'ログ',
    trace: 'トレース',
    stack: 'スタック',
    message: 'メッセージ',

    // イベント関連
    event: 'イベント',
    listener: 'リスナー',
    handler: 'ハンドラー',
    callback: 'コールバック',
    promise: 'Promise',
    async: 'async',
    await: 'await',
    then: 'then',
    catch: 'catch',
    finally: 'finally',

    // DOM関連
    element: '要素',
    node: 'ノード',
    attribute: '属性',
    style: 'スタイル',
    class: 'クラス',
    id: 'ID',
    tag: 'タグ',
    content: 'コンテンツ',
    parent: '親',
    child: '子',
    sibling: '兄弟',
    selector: 'セレクター',
    query: 'クエリ',
    append: '追加',
    remove: '削除',
    update: '更新',
    replace: '置換',

    // ネットワーク関連
    request: 'リクエスト',
    response: 'レスポンス',
    header: 'ヘッダー',
    body: 'ボディ',
    status: 'ステータス',
    method: 'メソッド',
    path: 'パス',
    query: 'クエリ',
    parameter: 'パラメーター',
    cookie: 'Cookie',
    session: 'セッション',
    cache: 'キャッシュ',
    timeout: 'タイムアウト',
    retry: 'リトライ',
    redirect: 'リダイレクト',

    // セキュリティ関連
    security: 'セキュリティ',
    authentication: '認証',
    authorization: '認可',
    encryption: '暗号化',
    decryption: '復号化',
    hash: 'ハッシュ',
    salt: 'ソルト',
    token: 'トークン',
    key: 'キー',
    certificate: '証明書',
    permission: '権限',
    role: 'ロール',
    policy: 'ポリシー',
    validation: '検証',
    sanitization: 'サニタイズ',

    // パフォーマンス関連
    performance: 'パフォーマンス',
    optimization: '最適化',
    compression: '圧縮',
    minification: '最小化',
    bundling: 'バンドル',
    caching: 'キャッシュ',
    'lazy loading': '遅延読み込み',
    preloading: 'プリロード',
    prefetching: 'プリフェッチ',
    throttling: 'スロットリング',
    debouncing: 'デバウンス',
    memory: 'メモリー',
    'garbage collection': 'ガベージコレクション',
    leak: 'リーク',
    profile: 'プロファイル',

    // テスト関連
    test: 'テスト',
    'unit test': 'ユニットテスト',
    'integration test': '統合テスト',
    'end-to-end test': 'E2Eテスト',
    assertion: 'アサーション',
    mock: 'モック',
    stub: 'スタブ',
    fixture: 'フィクスチャー',
    coverage: 'カバレッジ',
    runner: 'ランナー',
    framework: 'フレームワーク',
    suite: 'スイート',
    case: 'ケース',
    scenario: 'シナリオ',
    specification: '仕様',

    // 開発ツール関連
    tool: 'ツール',
    editor: 'エディター',
    compiler: 'コンパイラー',
    interpreter: 'インタープリター',
    debugger: 'デバッガー',
    profiler: 'プロファイラー',
    linter: 'リンター',
    formatter: 'フォーマッター',
    'package manager': 'パッケージマネージャー',
    dependency: '依存関係',
    build: 'ビルド',
    deploy: 'デプロイ',
    release: 'リリース',
    version: 'バージョン',
    branch: 'ブランチ',

    // データベース関連
    database: 'データベース',
    table: 'テーブル',
    column: 'カラム',
    row: '行',
    record: 'レコード',
    query: 'クエリ',
    index: 'インデックス',
    key: 'キー',
    'foreign key': '外部キー',
    'primary key': '主キー',
    schema: 'スキーマ',
    migration: 'マイグレーション',
    backup: 'バックアップ',
    restore: 'リストア',
    transaction: 'トランザクション',

    // その他
    configuration: '設定',
    environment: '環境',
    development: '開発',
    production: '本番',
    staging: 'ステージング',
    deployment: 'デプロイメント',
    monitoring: 'モニタリング',
    logging: 'ログ',
    analytics: '分析',
    documentation: 'ドキュメント',
    comment: 'コメント',
    annotation: '注釈',
    example: '例',
    tutorial: 'チュートリアル',
    guide: 'ガイド',
  },

  // 翻訳ルール
  rules: [
    // 1. 技術用語の翻訳
    {
      pattern: /\b(?:${Object.keys(termMapping).join('|')})\b/gi,
      replacement: (match) => termMapping[match.toLowerCase()] || match,
    },

    // 2. 予約語の保持
    {
      pattern: /\b(?:${reservedTerms.join('|')})\b/g,
      replacement: (match) => match,
    },

    // 3. コードブロック内のテキストは翻訳しない
    {
      pattern: /```[\s\S]*?```/g,
      replacement: (match) => match,
    },

    // 4. インラインコードは翻訳しない
    {
      pattern: /`[^`]+`/g,
      replacement: (match) => match,
    },

    // 5. リンクテキストは翻訳しない
    {
      pattern: /\[([^\]]+)\]\([^)]+\)/g,
      replacement: (match) => match,
    },
  ],
};

module.exports = translationRules;
